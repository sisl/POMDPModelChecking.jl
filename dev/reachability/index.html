<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Reachability Solver · POMDPModelChecking.jl Documentation</title><meta name="title" content="Reachability Solver · POMDPModelChecking.jl Documentation"/><meta property="og:title" content="Reachability Solver · POMDPModelChecking.jl Documentation"/><meta property="twitter:title" content="Reachability Solver · POMDPModelChecking.jl Documentation"/><meta name="description" content="Documentation for POMDPModelChecking.jl Documentation."/><meta property="og:description" content="Documentation for POMDPModelChecking.jl Documentation."/><meta property="twitter:description" content="Documentation for POMDPModelChecking.jl Documentation."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">POMDPModelChecking.jl Documentation</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">About</a></li><li class="is-active"><a class="tocitem" href>Reachability Solver</a><ul class="internal"><li><a class="tocitem" href="#Reachability-in-MDPs"><span>Reachability in MDPs</span></a></li><li><a class="tocitem" href="#Reachability-in-POMDPs"><span>Reachability in POMDPs</span></a></li></ul></li><li><a class="tocitem" href="../model_checking/">Model Checking Solver</a></li><li><a class="tocitem" href="../references/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Reachability Solver</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Reachability Solver</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/sisl/POMDPModelChecking.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/sisl/POMDPModelChecking.jl/blob/master/docs/src/reachability.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Reachability-Solver"><a class="docs-heading-anchor" href="#Reachability-Solver">Reachability Solver</a><a id="Reachability-Solver-1"></a><a class="docs-heading-anchor-permalink" href="#Reachability-Solver" title="Permalink"></a></h1><p>Reachability problems in MDP or POMDP consists at computing the policy that maximizes the chances of reaching a desired set of states.  In constrained reachability problem, there is an additional constraint that a given set of states must be avoided. </p><p>The <code>ReachabilitySolver</code> solves reachability and constrained reachability problems in MDPs and POMDPs expressed using POMDPs.jls. It returns the policy that maximizes the probability of reaching a given set of states. For some policies, like value iteration policies, you also get the value function which is equivalent to the probability of reaching a desired state.</p><p>In POMDPModelChecking.jl, the reachability solver express the problem as a planning problem. Given a POMDP model, it automatically defines a <code>ReachabilityPOMDP</code> such that solving this problem with traditionnal POMDP algorithms yields the solution to the reachability problem. With this approach, the <code>ReachabilitySolver</code> supports any kind of solvers from <code>POMDPs.jl</code>.</p><h2 id="Reachability-in-MDPs"><a class="docs-heading-anchor" href="#Reachability-in-MDPs">Reachability in MDPs</a><a id="Reachability-in-MDPs-1"></a><a class="docs-heading-anchor-permalink" href="#Reachability-in-MDPs" title="Permalink"></a></h2><p>Here is an example of solving a reachability problem in a grid world MDP. </p><pre><code class="language-julia hljs">using POMDPs
using POMDPModelChecking
using POMDPModels
using DiscreteValueIteration

mdp = SimpleGridWorld(size=(10,10), terminate_from=Set([GWPos(9,3)]), tprob=0.5)

# Reach the cell (10,1) and avoid cell (9, 3) in the gridworld
solver = ReachabilitySolver(reach=Set([GWPos(10,1)]),
                            avoid = Set([GWPos(9, 3)]),
                            solver = ValueIterationSolver(verbose=true))

policy = solve(solver, mdp)

# Maximum probability of reaching (10, 1) while in state (1, 1)
value(policy, GWPos(1, 1))</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.8942878479527075</code></pre><p>In the case of MDP problems, we can visualize the resulting probability of success over the whole state space</p><pre><code class="language-julia hljs">using POMDPTools

# overwrite the usual gridworld colorscale because here
# the value is a probability
using ColorSchemes
function POMDPModels.tocolor(r::Float64)
    minr = 0.0
    maxr = 1.0
    frac = (r-minr)/(maxr-minr)
    return get(ColorSchemes.redgreensplit, frac)
end
p = render(mdp, color = s-&gt;value(policy, s), policy=policy)</code></pre><p><img src="../gw_reachability.svg" alt/></p><h2 id="Reachability-in-POMDPs"><a class="docs-heading-anchor" href="#Reachability-in-POMDPs">Reachability in POMDPs</a><a id="Reachability-in-POMDPs-1"></a><a class="docs-heading-anchor-permalink" href="#Reachability-in-POMDPs" title="Permalink"></a></h2><p>Using the same methodology, we can solve reachability problems in POMDPs. The interface is exactly the same, but the result is interpreted differently. POMDP solvers outputs a belief state policy and belief state value function. As a consequence, it gives the probability of reaching the <code>reach</code> set in a given <em>belief state</em>. </p><p>Instead of using <code>ValueIterationSolver</code> as the backend to solve the associated reward maximization problem, we use an approximate POMDP solver like <a href="https://github.com/JuliaPOMDP/SARSOP.jl">SARSOP</a>.</p><p>The test folder of this package contains an implementation of gridworld where the agent only has a noisy observation of its position.</p><pre><code class="language-julia hljs">using POMDPs
using POMDPModelChecking
using SARSOP
include(joinpath(dirname(pathof(POMDPModelChecking)), &quot;../test/blind_gridworld.jl&quot;))

pomdp = BlindGridWorld(exit=GWPos(10, 1))

solver = ReachabilitySolver(reach=Set([GWPos(10,1)]),
                            avoid = Set([GWPos(9, 3)]),
                            solver = SARSOPSolver(verbose=true,precision=1e-2, timeout=5))

policy = solve(solver, pomdp)

b0 = initialstate(pomdp)
value(policy, b0)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">0.7877200891089109</code></pre><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="POMDPModelChecking.ReachabilitySolver" href="#POMDPModelChecking.ReachabilitySolver"><code>POMDPModelChecking.ReachabilitySolver</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">ReachabilitySolver{S} &lt;: Solver</code></pre><p>Solves reachability and constrained reachability problems in MDPs and POMDPs. It returns the policy that maximizes the probability of reaching a given set of states. It takes as input the set of states to reach and the set of states to avoid, as well as the underlying solver. Any solver from POMDPs.jl are supported.</p><p><strong>Fields</strong></p><p>The field are specified as keyword arguments to the solver.</p><ul><li><code>reach::Set{S}</code> the set of states to reach</li><li><code>avoid::Set{S}</code> the set of states to avoid</li><li><code>solver::Solver</code> the underlying solver to use (default is <code>ValueIterationSolver</code>)</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/sisl/POMDPModelChecking.jl/blob/09085367835f3503d8a5a853f0078a56ac08aab3/src/reachability.jl#L1-L17">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« About</a><a class="docs-footer-nextpage" href="../model_checking/">Model Checking Solver »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.5.0 on <span class="colophon-date" title="Wednesday 7 August 2024 06:52">Wednesday 7 August 2024</span>. Using Julia version 1.10.4.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
